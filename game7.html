<!DOCTYPE html>
<html>
<head>
  <title>Shooting Game</title>
  <style>
    body { margin:0; background:#111; overflow:hidden; color:white; font-family:sans-serif; text-align:center;}
    #player { width:40px; height:40px; background:blue; position:absolute; bottom:20px; left:50%; transform:translateX(-50%);}
    .bullet { width:5px; height:10px; background:red; position:absolute; }
    .enemy { width:40px; height:40px; background:green; position:absolute; top:0; }
  </style>
</head>
<body>

<h1>Shooting Game</h1>
<p>Use Arrow keys to move, Space to shoot</p>

<div id="player"></div>

<script>
let player = document.getElementById("player");
let bullets = [];
let enemies = [];

function spawnEnemy() {
  let enemy = document.createElement("div");
  enemy.className = "enemy";
  enemy.style.left = Math.random()*window.innerWidth + "px";
  document.body.appendChild(enemy);
  enemies.push(enemy);
}
setInterval(spawnEnemy, 2000);

document.addEventListener("keydown", e => {
  let left = player.offsetLeft;
  if(e.key === "ArrowLeft" && left>0) player.style.left = (left-20)+"px";
  if(e.key === "ArrowRight" && left<window.innerWidth-40) player.style.left = (left+20)+"px";
  if(e.key === " ") shoot();
});

function shoot() {
  let bullet = document.createElement("div");
  bullet.className = "bullet";
  bullet.style.left = (player.offsetLeft + 18)+"px";
  bullet.style.top = (player.offsetTop - 10)+"px";
  document.body.appendChild(bullet);
  bullets.push(bullet);
}

function gameLoop() {
  bullets.forEach((b, i) => {
    b.style.top = (b.offsetTop - 10)+"px";
    if(b.offsetTop < 0) { b.remove(); bullets.splice(i,1); }
    enemies.forEach((e,j) => {
      if(b.offsetLeft < e.offsetLeft + 40 && b.offsetLeft + 5 > e.offsetLeft &&
         b.offsetTop < e.offsetTop + 40 && b.offsetTop + 10 > e.offsetTop) {
        e.remove(); enemies.splice(j,1);
        b.remove(); bullets.splice(i,1);
      }
    });
  });

  enemies.forEach(e => {
    e.style.top = (e.offsetTop + 2)+"px";
    if(e.offsetTop > window.innerHeight) { e.remove(); enemies.splice(enemies.indexOf(e),1);}
  });

  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>

</body>
</html>
